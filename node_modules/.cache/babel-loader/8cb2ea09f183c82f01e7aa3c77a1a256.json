{"ast":null,"code":"import{useContext,useEffect,useRef}from'react';import{StateContext,DispatchContext}from'../MapApp';import Loader from'../ui/Loading';import{AppState}from'../utils/types';import Map from'./Map';import MapFilters from'./filters/MapFilters';import InfoBarContainer from'./infoBar/InfoBarContainer';import{MapContainerStyles,ErrorStyles}from'./MapContainer.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/**\n * Main app structure\n */export default function MapContainer(_ref){var showAonbArea=_ref.showAonbArea;var _ref2=useContext(StateContext),state=_ref2.state;var _ref3=useContext(DispatchContext),dispatch=_ref3.dispatch;var loading=state.loading,error=state.error;var containerRef=useRef(null);var mapRef=useRef(null);// Set state based on props passed from WP\nuseEffect(function(){dispatch({type:AppState.SHOW_AONB_AREA,mode:showAonbArea});dispatch({type:AppState.MAP_REF,mode:mapRef});dispatch({type:AppState.CONTAINER_REF,mode:containerRef});},[dispatch,showAonbArea]);if(error){return/*#__PURE__*/_jsxs(ErrorStyles,{children:[\"Error! Looks like we've got lost walking around our beautiful countryside\",' ',/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"Walking emoji\",children:\"\\uD83D\\uDEB6\\u200D\\u2640\\uFE0F\"})]});}if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(MapContainerStyles,{ref:containerRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"map-wrapper\",children:[/*#__PURE__*/_jsx(MapFilters,{}),/*#__PURE__*/_jsx(\"div\",{className:\"map-wrapper__inner\",ref:mapRef,children:/*#__PURE__*/_jsx(Map,{})}),/*#__PURE__*/_jsx(InfoBarContainer,{})]})});}","map":{"version":3,"names":["useContext","useEffect","useRef","StateContext","DispatchContext","Loader","AppState","Map","MapFilters","InfoBarContainer","MapContainerStyles","ErrorStyles","MapContainer","showAonbArea","state","dispatch","loading","error","containerRef","mapRef","type","SHOW_AONB_AREA","mode","MAP_REF","CONTAINER_REF"],"sources":["/Users/harryedwards/Work/FL/_examples/mapping/src/components/MapContainer.tsx"],"sourcesContent":["import { useContext, useEffect, useRef } from 'react'\nimport { StateContext, DispatchContext } from '../MapApp'\nimport Loader from '../ui/Loading'\nimport { AppState, DispatchContextT, StateContextT } from '../utils/types'\nimport Map from './Map'\nimport MapFilters from './filters/MapFilters'\nimport InfoBarContainer from './infoBar/InfoBarContainer'\nimport { MapContainerStyles, ErrorStyles } from './MapContainer.styles'\n\ntype Props = {\n  showAonbArea: boolean\n}\n\n/**\n * Main app structure\n */\nexport default function MapContainer({ showAonbArea }: Props) {\n  const { state } = useContext(StateContext) as StateContextT\n  const { dispatch } = useContext(DispatchContext) as DispatchContextT\n  const { loading, error } = state\n\n  const containerRef = useRef(null)\n  const mapRef = useRef(null)\n\n  // Set state based on props passed from WP\n  useEffect(() => {\n    dispatch({ type: AppState.SHOW_AONB_AREA, mode: showAonbArea })\n    dispatch({ type: AppState.MAP_REF, mode: mapRef })\n    dispatch({ type: AppState.CONTAINER_REF, mode: containerRef })\n  }, [dispatch, showAonbArea])\n\n  if (error) {\n    return (\n      <ErrorStyles>\n        Error! Looks like we've got lost walking around our beautiful\n        countryside{' '}\n        <span role=\"img\" aria-label=\"Walking emoji\">\n          üö∂‚Äç‚ôÄÔ∏è\n        </span>\n      </ErrorStyles>\n    )\n  }\n\n  if (loading) {\n    return <Loader />\n  }\n\n  return (\n    <MapContainerStyles ref={containerRef}>\n      <div className=\"map-wrapper\">\n        <MapFilters />\n        <div className=\"map-wrapper__inner\" ref={mapRef}>\n          <Map />\n        </div>\n        <InfoBarContainer />\n      </div>\n    </MapContainerStyles>\n  )\n}\n"],"mappings":"AAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,MAAhC,KAA8C,OAA9C,CACA,OAASC,YAAT,CAAuBC,eAAvB,KAA8C,WAA9C,CACA,MAAOC,OAAP,KAAmB,eAAnB,CACA,OAASC,QAAT,KAA0D,gBAA1D,CACA,MAAOC,IAAP,KAAgB,OAAhB,CACA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,iBAAP,KAA6B,4BAA7B,CACA,OAASC,kBAAT,CAA6BC,WAA7B,KAAgD,uBAAhD,C,wFAMA;AACA;AACA,GACA,cAAe,SAASC,aAAT,MAA+C,IAAvBC,aAAuB,MAAvBA,YAAuB,CAC5D,UAAkBb,UAAU,CAACG,YAAD,CAA5B,CAAQW,KAAR,OAAQA,KAAR,CACA,UAAqBd,UAAU,CAACI,eAAD,CAA/B,CAAQW,QAAR,OAAQA,QAAR,CACA,GAAQC,QAAR,CAA2BF,KAA3B,CAAQE,OAAR,CAAiBC,KAAjB,CAA2BH,KAA3B,CAAiBG,KAAjB,CAEA,GAAMC,aAAY,CAAGhB,MAAM,CAAC,IAAD,CAA3B,CACA,GAAMiB,OAAM,CAAGjB,MAAM,CAAC,IAAD,CAArB,CAEA;AACAD,SAAS,CAAC,UAAM,CACdc,QAAQ,CAAC,CAAEK,IAAI,CAAEd,QAAQ,CAACe,cAAjB,CAAiCC,IAAI,CAAET,YAAvC,CAAD,CAAR,CACAE,QAAQ,CAAC,CAAEK,IAAI,CAAEd,QAAQ,CAACiB,OAAjB,CAA0BD,IAAI,CAAEH,MAAhC,CAAD,CAAR,CACAJ,QAAQ,CAAC,CAAEK,IAAI,CAAEd,QAAQ,CAACkB,aAAjB,CAAgCF,IAAI,CAAEJ,YAAtC,CAAD,CAAR,CACD,CAJQ,CAIN,CAACH,QAAD,CAAWF,YAAX,CAJM,CAAT,CAMA,GAAII,KAAJ,CAAW,CACT,mBACE,MAAC,WAAD,wFAEc,GAFd,cAGE,aAAM,IAAI,CAAC,KAAX,CAAiB,aAAW,eAA5B,4CAHF,GADF,CASD,CAED,GAAID,OAAJ,CAAa,CACX,mBAAO,KAAC,MAAD,IAAP,CACD,CAED,mBACE,KAAC,kBAAD,EAAoB,GAAG,CAAEE,YAAzB,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,UAAD,IADF,cAEE,YAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAEC,MAAzC,uBACE,KAAC,GAAD,IADF,EAFF,cAKE,KAAC,gBAAD,IALF,GADF,EADF,CAWD"},"metadata":{},"sourceType":"module"}