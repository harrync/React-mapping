{"ast":null,"code":"import updateActiveCategories from '../hooks/updateActiveCategories';\nimport { AppState } from '../utils/types'; // Basic state setup\n\nexport const initialState = {\n  loading: true,\n  error: false,\n  markerData: [],\n  routeData: [],\n  categoryData: [],\n  routeCategoryData: [],\n  activeMarkerFilters: [],\n  activeRouteFilters: [],\n  showAonbArea: false,\n  infoBarContent: null,\n  mapRef: null,\n  containerRef: null\n};\n/**\n * What's on reducer to manage state\n */\n\nexport default function mapReducer(state, action) {\n  switch (action.type) {\n    case AppState.IS_LOADING:\n      return { ...state,\n        loading: action.mode\n      };\n\n    case AppState.ERROR:\n      return { ...state,\n        error: action.mode\n      };\n\n    case AppState.SET_DATA:\n      return { ...state,\n        markerData: action.mode\n      };\n\n    case AppState.SET_ROUTES:\n      return { ...state,\n        routeData: action.mode\n      };\n\n    case AppState.SET_CATEGORIES:\n      return { ...state,\n        categoryData: action.mode\n      };\n\n    case AppState.SET_ROUTE_CATEGORIES:\n      return { ...state,\n        routeCategoryData: action.mode\n      };\n\n    case AppState.SHOW_ALL:\n      return { ...state,\n        activeMarkerFilters: initialState.activeMarkerFilters,\n        activeRouteFilters: initialState.activeRouteFilters\n      };\n\n    case AppState.ACTIVE_MARKER_CATEGORIES:\n      return { ...state,\n        activeMarkerFilters: updateActiveCategories(action.mode, state.activeMarkerFilters, state.mapRef),\n        infoBarContent: null\n      };\n\n    case AppState.ACTIVE_ROUTE_CATEGORIES:\n      return { ...state,\n        activeRouteFilters: updateActiveCategories(action.mode, state.activeRouteFilters, state.mapRef),\n        infoBarContent: null\n      };\n\n    case AppState.SHOW_AONB_AREA:\n      return { ...state,\n        showAonbArea: action.mode\n      };\n\n    case AppState.SHOW_INFO_BAR:\n      return { ...state,\n        infoBarContent: action.mode\n      };\n\n    case AppState.MAP_REF:\n      return { ...state,\n        mapRef: action.mode\n      };\n\n    case AppState.CONTAINER_REF:\n      return { ...state,\n        containerRef: action.mode\n      };\n\n    default:\n      throw new Error('Unknown action');\n  }\n}","map":{"version":3,"names":["updateActiveCategories","AppState","initialState","loading","error","markerData","routeData","categoryData","routeCategoryData","activeMarkerFilters","activeRouteFilters","showAonbArea","infoBarContent","mapRef","containerRef","mapReducer","state","action","type","IS_LOADING","mode","ERROR","SET_DATA","SET_ROUTES","SET_CATEGORIES","SET_ROUTE_CATEGORIES","SHOW_ALL","ACTIVE_MARKER_CATEGORIES","ACTIVE_ROUTE_CATEGORIES","SHOW_AONB_AREA","SHOW_INFO_BAR","MAP_REF","CONTAINER_REF","Error"],"sources":["/Users/harryedwards/Work/FL/_examples/mapping/src/reducers/mapReducer.ts"],"sourcesContent":["import { Reducer } from 'react'\nimport updateActiveCategories from '../hooks/updateActiveCategories'\nimport { AppState, StateAction, State } from '../utils/types'\n\n// Basic state setup\nexport const initialState: State = {\n  loading: true,\n  error: false,\n  markerData: [],\n  routeData: [],\n  categoryData: [],\n  routeCategoryData: [],\n  activeMarkerFilters: [],\n  activeRouteFilters: [],\n  showAonbArea: false,\n  infoBarContent: null,\n  mapRef: null,\n  containerRef: null,\n}\n\n/**\n * What's on reducer to manage state\n */\nexport default function mapReducer<R extends Reducer<State, StateAction>>(\n  state: State,\n  action: StateAction\n) {\n  switch (action.type) {\n    case AppState.IS_LOADING:\n      return {\n        ...state,\n        loading: action.mode,\n      }\n    case AppState.ERROR:\n      return {\n        ...state,\n        error: action.mode,\n      }\n    case AppState.SET_DATA:\n      return {\n        ...state,\n        markerData: action.mode,\n      }\n    case AppState.SET_ROUTES:\n      return {\n        ...state,\n        routeData: action.mode,\n      }\n    case AppState.SET_CATEGORIES:\n      return {\n        ...state,\n        categoryData: action.mode,\n      }\n    case AppState.SET_ROUTE_CATEGORIES:\n      return {\n        ...state,\n        routeCategoryData: action.mode,\n      }\n    case AppState.SHOW_ALL:\n      return {\n        ...state,\n        activeMarkerFilters: initialState.activeMarkerFilters,\n        activeRouteFilters: initialState.activeRouteFilters,\n      }\n    case AppState.ACTIVE_MARKER_CATEGORIES:\n      return {\n        ...state,\n        activeMarkerFilters: updateActiveCategories(\n          action.mode,\n          state.activeMarkerFilters,\n          state.mapRef\n        ),\n        infoBarContent: null,\n      }\n    case AppState.ACTIVE_ROUTE_CATEGORIES:\n      return {\n        ...state,\n        activeRouteFilters: updateActiveCategories(\n          action.mode,\n          state.activeRouteFilters,\n          state.mapRef\n        ),\n        infoBarContent: null,\n      }\n    case AppState.SHOW_AONB_AREA:\n      return {\n        ...state,\n        showAonbArea: action.mode,\n      }\n    case AppState.SHOW_INFO_BAR:\n      return {\n        ...state,\n        infoBarContent: action.mode,\n      }\n    case AppState.MAP_REF:\n      return {\n        ...state,\n        mapRef: action.mode,\n      }\n    case AppState.CONTAINER_REF:\n      return {\n        ...state,\n        containerRef: action.mode,\n      }\n    default:\n      throw new Error('Unknown action')\n  }\n}\n"],"mappings":"AACA,OAAOA,sBAAP,MAAmC,iCAAnC;AACA,SAASC,QAAT,QAA6C,gBAA7C,C,CAEA;;AACA,OAAO,MAAMC,YAAmB,GAAG;EACjCC,OAAO,EAAE,IADwB;EAEjCC,KAAK,EAAE,KAF0B;EAGjCC,UAAU,EAAE,EAHqB;EAIjCC,SAAS,EAAE,EAJsB;EAKjCC,YAAY,EAAE,EALmB;EAMjCC,iBAAiB,EAAE,EANc;EAOjCC,mBAAmB,EAAE,EAPY;EAQjCC,kBAAkB,EAAE,EARa;EASjCC,YAAY,EAAE,KATmB;EAUjCC,cAAc,EAAE,IAViB;EAWjCC,MAAM,EAAE,IAXyB;EAYjCC,YAAY,EAAE;AAZmB,CAA5B;AAeP;AACA;AACA;;AACA,eAAe,SAASC,UAAT,CACbC,KADa,EAEbC,MAFa,EAGb;EACA,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKjB,QAAQ,CAACkB,UAAd;MACE,OAAO,EACL,GAAGH,KADE;QAELb,OAAO,EAAEc,MAAM,CAACG;MAFX,CAAP;;IAIF,KAAKnB,QAAQ,CAACoB,KAAd;MACE,OAAO,EACL,GAAGL,KADE;QAELZ,KAAK,EAAEa,MAAM,CAACG;MAFT,CAAP;;IAIF,KAAKnB,QAAQ,CAACqB,QAAd;MACE,OAAO,EACL,GAAGN,KADE;QAELX,UAAU,EAAEY,MAAM,CAACG;MAFd,CAAP;;IAIF,KAAKnB,QAAQ,CAACsB,UAAd;MACE,OAAO,EACL,GAAGP,KADE;QAELV,SAAS,EAAEW,MAAM,CAACG;MAFb,CAAP;;IAIF,KAAKnB,QAAQ,CAACuB,cAAd;MACE,OAAO,EACL,GAAGR,KADE;QAELT,YAAY,EAAEU,MAAM,CAACG;MAFhB,CAAP;;IAIF,KAAKnB,QAAQ,CAACwB,oBAAd;MACE,OAAO,EACL,GAAGT,KADE;QAELR,iBAAiB,EAAES,MAAM,CAACG;MAFrB,CAAP;;IAIF,KAAKnB,QAAQ,CAACyB,QAAd;MACE,OAAO,EACL,GAAGV,KADE;QAELP,mBAAmB,EAAEP,YAAY,CAACO,mBAF7B;QAGLC,kBAAkB,EAAER,YAAY,CAACQ;MAH5B,CAAP;;IAKF,KAAKT,QAAQ,CAAC0B,wBAAd;MACE,OAAO,EACL,GAAGX,KADE;QAELP,mBAAmB,EAAET,sBAAsB,CACzCiB,MAAM,CAACG,IADkC,EAEzCJ,KAAK,CAACP,mBAFmC,EAGzCO,KAAK,CAACH,MAHmC,CAFtC;QAOLD,cAAc,EAAE;MAPX,CAAP;;IASF,KAAKX,QAAQ,CAAC2B,uBAAd;MACE,OAAO,EACL,GAAGZ,KADE;QAELN,kBAAkB,EAAEV,sBAAsB,CACxCiB,MAAM,CAACG,IADiC,EAExCJ,KAAK,CAACN,kBAFkC,EAGxCM,KAAK,CAACH,MAHkC,CAFrC;QAOLD,cAAc,EAAE;MAPX,CAAP;;IASF,KAAKX,QAAQ,CAAC4B,cAAd;MACE,OAAO,EACL,GAAGb,KADE;QAELL,YAAY,EAAEM,MAAM,CAACG;MAFhB,CAAP;;IAIF,KAAKnB,QAAQ,CAAC6B,aAAd;MACE,OAAO,EACL,GAAGd,KADE;QAELJ,cAAc,EAAEK,MAAM,CAACG;MAFlB,CAAP;;IAIF,KAAKnB,QAAQ,CAAC8B,OAAd;MACE,OAAO,EACL,GAAGf,KADE;QAELH,MAAM,EAAEI,MAAM,CAACG;MAFV,CAAP;;IAIF,KAAKnB,QAAQ,CAAC+B,aAAd;MACE,OAAO,EACL,GAAGhB,KADE;QAELF,YAAY,EAAEG,MAAM,CAACG;MAFhB,CAAP;;IAIF;MACE,MAAM,IAAIa,KAAJ,CAAU,gBAAV,CAAN;EA9EJ;AAgFD"},"metadata":{},"sourceType":"module"}