{"ast":null,"code":"import{useContext,useRef}from'react';import{AppState}from'../utils/types';import{DispatchContext,StateContext}from'../MapApp';import{Popup}from'react-leaflet';import InfoWindow from'./infoWindow/InfoWindow';import headerScrollAmend from'../helpers/headerScroll';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";/**\n * Map popups wrapper\n */export default function PopupWrapper(_ref){var infoContent=_ref.infoContent;var _ref2=useContext(StateContext),state=_ref2.state;var _ref3=useContext(DispatchContext),dispatch=_ref3.dispatch;var mapRef=state.mapRef;var popup=useRef(null);function closePopusOnClick(){var _mapRef$current;// @ts-ignore\npopup.current._closeButton.click();dispatch({type:AppState.SHOW_INFO_BAR,mode:infoContent});mapRef&&(mapRef===null||mapRef===void 0?void 0:(_mapRef$current=mapRef.current)===null||_mapRef$current===void 0?void 0:_mapRef$current.scrollIntoView({behavior:'smooth'}));headerScrollAmend();}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Popup,{ref:popup,maxWidth:250,children:/*#__PURE__*/_jsx(InfoWindow,{infoContent:infoContent,clicked:function clicked(){return closePopusOnClick();}})})});}","map":{"version":3,"names":["useContext","useRef","AppState","DispatchContext","StateContext","Popup","InfoWindow","headerScrollAmend","PopupWrapper","infoContent","state","dispatch","mapRef","popup","closePopusOnClick","current","_closeButton","click","type","SHOW_INFO_BAR","mode","scrollIntoView","behavior"],"sources":["/Users/harryedwards/Work/FL/_examples/mapping/src/components/PopupWrapper.tsx"],"sourcesContent":["import { useContext, useRef } from 'react'\nimport {\n  AppState,\n  DispatchContextT,\n  MarkerEntity,\n  RouteEntity,\n  StateContextT,\n} from '../utils/types'\nimport { DispatchContext, StateContext } from '../MapApp'\nimport { Popup } from 'react-leaflet'\nimport InfoWindow from './infoWindow/InfoWindow'\nimport headerScrollAmend from '../helpers/headerScroll'\n\ntype Props = {\n  infoContent: MarkerEntity | RouteEntity\n}\n\n/**\n * Map popups wrapper\n */\nexport default function PopupWrapper({ infoContent }: Props) {\n  const { state } = useContext(StateContext) as StateContextT\n  const { dispatch } = useContext(DispatchContext) as DispatchContextT\n  const { mapRef } = state\n  const popup = useRef(null)\n\n  function closePopusOnClick() {\n    // @ts-ignore\n    popup.current._closeButton.click()\n\n    dispatch({ type: AppState.SHOW_INFO_BAR, mode: infoContent })\n\n    mapRef && mapRef?.current?.scrollIntoView({ behavior: 'smooth' })\n\n    headerScrollAmend()\n  }\n\n  return (\n    <>\n      <Popup ref={popup} maxWidth={250}>\n        <InfoWindow\n          infoContent={infoContent}\n          clicked={() => closePopusOnClick()}\n        />\n      </Popup>\n    </>\n  )\n}\n"],"mappings":"AAAA,OAASA,UAAT,CAAqBC,MAArB,KAAmC,OAAnC,CACA,OACEC,QADF,KAMO,gBANP,CAOA,OAASC,eAAT,CAA0BC,YAA1B,KAA8C,WAA9C,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,MAAOC,WAAP,KAAuB,yBAAvB,CACA,MAAOC,kBAAP,KAA8B,yBAA9B,C,gGAMA;AACA;AACA,GACA,cAAe,SAASC,aAAT,MAA8C,IAAtBC,YAAsB,MAAtBA,WAAsB,CAC3D,UAAkBT,UAAU,CAACI,YAAD,CAA5B,CAAQM,KAAR,OAAQA,KAAR,CACA,UAAqBV,UAAU,CAACG,eAAD,CAA/B,CAAQQ,QAAR,OAAQA,QAAR,CACA,GAAQC,OAAR,CAAmBF,KAAnB,CAAQE,MAAR,CACA,GAAMC,MAAK,CAAGZ,MAAM,CAAC,IAAD,CAApB,CAEA,QAASa,kBAAT,EAA6B,qBAC3B;AACAD,KAAK,CAACE,OAAN,CAAcC,YAAd,CAA2BC,KAA3B,GAEAN,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,QAAQ,CAACiB,aAAjB,CAAgCC,IAAI,CAAEX,WAAtC,CAAD,CAAR,CAEAG,MAAM,GAAIA,MAAJ,SAAIA,MAAJ,kCAAIA,MAAM,CAAEG,OAAZ,0CAAI,gBAAiBM,cAAjB,CAAgC,CAAEC,QAAQ,CAAE,QAAZ,CAAhC,CAAJ,CAAN,CAEAf,iBAAiB,GAClB,CAED,mBACE,sCACE,KAAC,KAAD,EAAO,GAAG,CAAEM,KAAZ,CAAmB,QAAQ,CAAE,GAA7B,uBACE,KAAC,UAAD,EACE,WAAW,CAAEJ,WADf,CAEE,OAAO,CAAE,yBAAMK,kBAAiB,EAAvB,EAFX,EADF,EADF,EADF,CAUD"},"metadata":{},"sourceType":"module"}